{
  "workflow": {
    "name": "Atomic Image: object_detection",
    "description": "Fully atomic workflow with 16 composable nodes for object_detection",
    "version": "1.0",
    "generated_by": "WorkflowComposer (Atomic Mode - Full Breakdown)",
    "generated_at": "2025-10-29T16:41:42.222768",
    "goal": {
      "task": "object_detection",
      "input_type": "soccer.jpg",
      "output_type": "display",
      "performance_target": 20.0,
      "hardware_preference": "auto",
      "quality_over_speed": true
    },
    "strategy": "fully_atomic",
    "node_breakdown": {
      "preprocessing": 5,
      "session": 1,
      "inference": 1,
      "postprocessing": 6,
      "summary": 1,
      "infrastructure": 2,
      "total": 16
    },
    "optimized_parameters": {
      "conf_threshold": 0.3,
      "iou_threshold": 0.7
    },
    "composition_mode": "llm-assisted-extraction",
    "user_requirement": "Process soccer.jpg with maximum flexibility using atomic nodes for detailed control",
    "agent_insights": {
      "planner_suggestions": [],
      "optimizer_recommendations": [],
      "validator_checks": []
    }
  },
  "nodes": [
    {
      "id": "detect_hardware",
      "function": "workflow_nodes.inference_node.detect_available_hardware",
      "inputs": {},
      "dependencies": []
    },
    {
      "id": "download_model",
      "function": "workflow_nodes.directml_model_loader_node.download_yolo_model",
      "inputs": {
        "model_name": "yolov8s.onnx"
      },
      "dependencies": []
    },
    {
      "id": "read_img",
      "function": "workflow_nodes.atomic.image_ops.read_image_node",
      "inputs": {
        "image_path": "soccer.jpg"
      },
      "dependencies": []
    },
    {
      "id": "resize",
      "function": "workflow_nodes.atomic.image_ops.resize_image_letterbox_node",
      "inputs": {
        "target_width": 640,
        "target_height": 640
      },
      "dependencies": [
        "read_img"
      ]
    },
    {
      "id": "normalize",
      "function": "workflow_nodes.atomic.image_ops.normalize_image_node",
      "inputs": {
        "scale": 255.0
      },
      "dependencies": [
        "resize"
      ]
    },
    {
      "id": "transpose",
      "function": "workflow_nodes.atomic.image_ops.hwc_to_chw_node",
      "inputs": {},
      "dependencies": [
        "normalize"
      ]
    },
    {
      "id": "add_batch",
      "function": "workflow_nodes.atomic.image_ops.add_batch_dimension_node",
      "inputs": {},
      "dependencies": [
        "transpose"
      ]
    },
    {
      "id": "create_session",
      "function": "workflow_nodes.atomic.onnx_ops.create_onnx_directml_session_node",
      "inputs": {
        "model_path": "models/yolov8s.onnx",
        "device_id": 0
      },
      "dependencies": [
        "download_model",
        "detect_hardware"
      ]
    },
    {
      "id": "inference",
      "function": "workflow_nodes.atomic.onnx_ops.run_onnx_inference_benchmark_node",
      "inputs": {
        "iterations": 1,
        "warmup_iterations": 0
      },
      "dependencies": [
        "create_session",
        "add_batch"
      ]
    },
    {
      "id": "decode",
      "function": "workflow_nodes.atomic.yolo_ops.decode_yolo_v8_output_node",
      "inputs": {
        "num_classes": 80
      },
      "dependencies": [
        "inference"
      ]
    },
    {
      "id": "filter",
      "function": "workflow_nodes.atomic.yolo_ops.filter_by_confidence_node",
      "inputs": {
        "confidence_threshold": 0.3
      },
      "dependencies": [
        "decode"
      ]
    },
    {
      "id": "convert_boxes",
      "function": "workflow_nodes.atomic.yolo_ops.convert_cxcywh_to_xyxy_node",
      "inputs": {},
      "dependencies": [
        "filter"
      ]
    },
    {
      "id": "nms",
      "function": "workflow_nodes.atomic.yolo_ops.apply_nms_node",
      "inputs": {
        "iou_threshold": 0.7
      },
      "dependencies": [
        "convert_boxes"
      ]
    },
    {
      "id": "scale_boxes",
      "function": "workflow_nodes.atomic.yolo_ops.scale_boxes_to_original_node",
      "inputs": {
        "input_width": 640,
        "input_height": 640
      },
      "dependencies": [
        "nms",
        "read_img",
        "resize"
      ]
    },
    {
      "id": "format",
      "function": "workflow_nodes.atomic.yolo_ops.format_detections_coco_node",
      "inputs": {},
      "dependencies": [
        "scale_boxes"
      ]
    },
    {
      "id": "summary",
      "function": "workflow_nodes.atomic.yolo_ops.create_detection_summary_node",
      "inputs": {
        "provider": "DirectML"
      },
      "dependencies": [
        "format",
        "inference"
      ]
    }
  ]
}